"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[733],{4733:(e,t,a)=>{a.r(t),a.d(t,{default:()=>I});var o=a(5043),n=a(3023),r=a(1911),s=a(8776),l=a(3969),i=a(1725),c=a(45),d=a(9379),h=a(8387),p=a(1807),u=a(7194),m=a(4412),x=a(2196),g=a(8128),A=a(1612),v=a(8301),b=a(9857),w=a(6061);function y(e){return(0,w.Ay)("MuiSwitch",e)}const k=(0,b.A)("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]);var f=a(9905),j=a(579);const C=["className","color","edge","size","sx","slots","slotProps"],S=(0,g.Ay)("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,a.edge&&t["edge".concat((0,u.A)(a.edge))],t["size".concat((0,u.A)(a.size))]]}})({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,["& .".concat(k.thumb)]:{width:16,height:16},["& .".concat(k.switchBase)]:{padding:4,["&.".concat(k.checked)]:{transform:"translateX(16px)"}}}}]}),z=(0,g.Ay)(x.A,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.switchBase,{["& .".concat(k.input)]:t.input},"default"!==a.color&&t["color".concat((0,u.A)(a.color))]]}})((0,A.A)(e=>{let{theme:t}=e;return{position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:"".concat("light"===t.palette.mode?t.palette.common.white:t.palette.grey[300]),transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),["&.".concat(k.checked)]:{transform:"translateX(20px)"},["&.".concat(k.disabled)]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:"".concat("light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[600])},["&.".concat(k.checked," + .").concat(k.track)]:{opacity:.5},["&.".concat(k.disabled," + .").concat(k.track)]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:"".concat("light"===t.palette.mode?.12:.2)},["& .".concat(k.input)]:{left:"-100%",width:"300%"}}}),(0,A.A)(e=>{let{theme:t}=e;return{"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(t.palette).filter((0,m.A)(["light"])).map(e=>{let[a]=e;return{props:{color:a},style:{["&.".concat(k.checked)]:{color:(t.vars||t).palette[a].main,"&:hover":{backgroundColor:t.alpha((t.vars||t).palette[a].main,(t.vars||t).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(k.disabled)]:{color:t.vars?t.vars.palette.Switch["".concat(a,"DisabledColor")]:"".concat("light"===t.palette.mode?t.lighten(t.palette[a].main,.62):t.darken(t.palette[a].main,.55))}},["&.".concat(k.checked," + .").concat(k.track)]:{backgroundColor:(t.vars||t).palette[a].main}}}})]}})),B=(0,g.Ay)("span",{name:"MuiSwitch",slot:"Track"})((0,A.A)(e=>{let{theme:t}=e;return{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:"".concat("light"===t.palette.mode?t.palette.common.black:t.palette.common.white),opacity:t.vars?t.vars.opacity.switchTrack:"".concat("light"===t.palette.mode?.38:.3)}})),W=(0,g.Ay)("span",{name:"MuiSwitch",slot:"Thumb"})((0,A.A)(e=>{let{theme:t}=e;return{boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}})),N=o.forwardRef(function(e,t){const a=(0,v.b)({props:e,name:"MuiSwitch"}),{className:o,color:n="primary",edge:r=!1,size:s="medium",sx:l,slots:i={},slotProps:m={}}=a,x=(0,c.A)(a,C),g=(0,d.A)((0,d.A)({},a),{},{color:n,edge:r,size:s}),A=(e=>{const{classes:t,edge:a,size:o,color:n,checked:r,disabled:s}=e,l={root:["root",a&&"edge".concat((0,u.A)(a)),"size".concat((0,u.A)(o))],switchBase:["switchBase","color".concat((0,u.A)(n)),r&&"checked",s&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},i=(0,p.A)(l,y,t);return(0,d.A)((0,d.A)({},t),i)})(g),b={slots:i,slotProps:m},[w,k]=(0,f.A)("root",{className:(0,h.A)(A.root,o),elementType:S,externalForwardedProps:b,ownerState:g,additionalProps:{sx:l}}),[N,P]=(0,f.A)("thumb",{className:A.thumb,elementType:W,externalForwardedProps:b,ownerState:g}),O=(0,j.jsx)(N,(0,d.A)({},P)),[_,F]=(0,f.A)("track",{className:A.track,elementType:B,externalForwardedProps:b,ownerState:g});return(0,j.jsxs)(w,(0,d.A)((0,d.A)({},k),{},{children:[(0,j.jsx)(z,(0,d.A)((0,d.A)({type:"checkbox",icon:O,checkedIcon:O,ref:t,ownerState:g},x),{},{classes:(0,d.A)((0,d.A)({},A),{},{root:A.switchBase}),slots:(0,d.A)((0,d.A)({},i.switchBase&&{root:i.switchBase}),i.input&&{input:i.input}),slotProps:(0,d.A)((0,d.A)({},m.switchBase&&{root:"function"===typeof m.switchBase?m.switchBase(g):m.switchBase}),{},{input:{role:"switch"}},m.input&&{input:"function"===typeof m.input?m.input(g):m.input})})),(0,j.jsx)(_,(0,d.A)({},F))]}))});var P=a(2775),O=a(3089),_=a(2097),F=a(2579),M=a(4527),R=a(5877),J=a(916),T=a(5362),D=a(9928);function I(e){let{open:t,onClose:a}=e;const{grammar:c,setGrammar:d,savePartFromState:h,savePartWithJSON:p,buildPartFromState:u}=(0,D.Q)(),[m,x]=(0,o.useState)("[]"),[g,A]=(0,o.useState)("");(0,o.useEffect)(()=>{t&&x(JSON.stringify(u("grammar"),null,2))},[t,u]);const v=(e,t,a)=>{const o=[...c];o[e][t]=a,d(o)},b=(e,t,a,o)=>{const n=[...c];n[e].examples[t][a]=o,d(n)};return(0,j.jsxs)(n.A,{open:t,onClose:a,maxWidth:"lg",fullWidth:!0,children:[(0,j.jsx)(r.A,{children:"\ubb38\ubc95 \uad00\ub9ac"}),(0,j.jsxs)(s.A,{dividers:!0,children:[c.map((e,t)=>{const a=e.__mode||(e.title||e.summary||e.examples?"new":"old");return(0,j.jsxs)(l.A,{sx:{mb:2,border:"1px solid #eee",p:2,borderRadius:1},children:[(0,j.jsx)(i.A,{control:(0,j.jsx)(N,{checked:"new"===a,onChange:()=>(e=>{const t=[...c];t[e].__mode="new"===t[e].__mode?"old":"new",d(t)})(t)}),label:"new"===a?"\uc2e0\ud615":"\uad6c\ud615"}),"new"===a?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(P.A,{label:"title",value:e.title||"",onChange:e=>v(t,"title",e.target.value),fullWidth:!0,sx:{mb:1}}),(0,j.jsx)(P.A,{label:"summary",value:e.summary||"",onChange:e=>v(t,"summary",e.target.value),fullWidth:!0,sx:{mb:1}}),(0,j.jsx)(P.A,{label:"notes(\uc27c\ud45c)",value:(e.notes||[]).join(","),onChange:e=>((e,t)=>{const a=[...c];a[e].notes=(t||"").split(",").map(e=>e.trim()).filter(Boolean),d(a)})(t,e.target.value),fullWidth:!0,sx:{mb:2}}),(e.examples||[]).map((e,a)=>(0,j.jsxs)(O.A,{container:!0,spacing:1,sx:{mb:1},children:[(0,j.jsx)(O.A,{item:!0,xs:3,children:(0,j.jsx)(P.A,{label:"zh",value:e.zh||"",onChange:e=>b(t,a,"zh",e.target.value),fullWidth:!0})}),(0,j.jsx)(O.A,{item:!0,xs:3,children:(0,j.jsx)(P.A,{label:"py",value:e.py||"",onChange:e=>b(t,a,"py",e.target.value),fullWidth:!0})}),(0,j.jsx)(O.A,{item:!0,xs:3,children:(0,j.jsx)(P.A,{label:"pronunciation",value:e.pronunciation||"",onChange:e=>b(t,a,"pronunciation",e.target.value),fullWidth:!0})}),(0,j.jsx)(O.A,{item:!0,xs:3,children:(0,j.jsx)(P.A,{label:"ko",value:e.ko||"",onChange:e=>b(t,a,"ko",e.target.value),fullWidth:!0})})]},a)),(0,j.jsx)(_.A,{size:"small",onClick:()=>(e=>{const t=[...c];t[e].examples=t[e].examples||[],t[e].examples.push({zh:"",py:"",pronunciation:"",ko:""}),d(t)})(t),children:"+ \uc608\ubb38 \ucd94\uac00"})]}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(P.A,{label:"rule",value:e.rule||"",onChange:e=>v(t,"rule",e.target.value),fullWidth:!0,sx:{mb:1}}),(0,j.jsx)(P.A,{label:"description",value:e.description||"",onChange:e=>v(t,"description",e.target.value),fullWidth:!0,sx:{mb:1}}),(0,j.jsx)(O.A,{container:!0,spacing:1,children:["chinese","pinyin","pronunciation","meaning"].map(a=>{var o;return(0,j.jsx)(O.A,{item:!0,xs:3,children:(0,j.jsx)(P.A,{label:"example.".concat(a),value:(null===(o=e.example)||void 0===o?void 0:o[a])||"",onChange:e=>((e,t,a)=>{const o=[...c];o[e].example=o[e].example||{},o[e].example[t]=a,d(o)})(t,a,e.target.value),fullWidth:!0})},a)})})]}),(0,j.jsx)(F.A,{onClick:()=>(e=>d(c.filter((t,a)=>a!==e)))(t),color:"error",sx:{mt:1},children:(0,j.jsx)(T.A,{})})]},t)}),(0,j.jsx)(_.A,{onClick:()=>d([...c,{rule:"",description:"",example:{chinese:"",pinyin:"",pronunciation:"",meaning:""},title:"",summary:"",notes:[],examples:[],__mode:"new"}]),children:"+ \ubb38\ubc95 \ucd94\uac00"}),(0,j.jsx)(M.A,{sx:{my:2}}),(0,j.jsx)(_.A,{variant:"contained",onClick:async()=>{try{await h("grammar"),A("\ubb38\ubc95 \uc800\uc7a5 \uc644\ub8cc")}catch(e){console.error(e),A("\ubb38\ubc95 \uc800\uc7a5 \uc2e4\ud328")}},children:"\ud604\uc7ac \uac12\uc73c\ub85c \uc800\uc7a5"}),(0,j.jsx)(M.A,{sx:{my:2}}),(0,j.jsx)(P.A,{label:"\uc774 \ud30c\ud2b8 JSON \ud3b8\uc9d1 (grammar)",value:m,onChange:e=>x(e.target.value),fullWidth:!0,multiline:!0,rows:12,sx:{fontFamily:"monospace"}}),(0,j.jsx)(l.A,{sx:{mt:1},children:(0,j.jsx)(_.A,{variant:"contained",onClick:async()=>{try{const e=JSON.parse(m);await p("grammar",e),d(e),A("\ubb38\ubc95(JSON) \uc800\uc7a5 \uc644\ub8cc")}catch(e){console.error(e),A("JSON \ud30c\uc2f1/\uc800\uc7a5 \uc2e4\ud328")}},children:"JSON\uc73c\ub85c \uc800\uc7a5"})})]}),(0,j.jsx)(R.A,{children:(0,j.jsx)(_.A,{onClick:a,children:"\ub2eb\uae30"})}),(0,j.jsx)(J.A,{open:!!g,autoHideDuration:2200,onClose:()=>A(""),message:g})]})}}}]);
//# sourceMappingURL=733.7f1b4456.chunk.js.map