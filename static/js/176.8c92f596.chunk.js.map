{"version":3,"file":"static/js/176.8c92f596.chunk.js","mappings":"+RASe,SAASA,EAAYC,GAAqB,IAApB,KAAEC,EAAI,QAAEC,GAASF,EACpD,MAAM,QAAEG,EAAO,WAAEC,EAAU,kBAAEC,EAAiB,iBAAEC,EAAgB,mBAAEC,IAAuBC,EAAAA,EAAAA,MAClFC,EAASC,IAAcC,EAAAA,EAAAA,UAAS,OAChCC,EAAOC,IAAYF,EAAAA,EAAAA,UAAS,KAEnCG,EAAAA,EAAAA,WAAU,KACJb,GAAMS,EAAWK,KAAKC,UAAUT,EAAmB,WAAY,KAAM,KACxE,CAACN,EAAMM,IAuBV,OACEU,EAAAA,EAAAA,MAACC,EAAAA,EAAM,CAACjB,KAAMA,EAAMC,QAASA,EAASiB,SAAS,KAAKC,WAAS,EAAAC,SAAA,EAC3DC,EAAAA,EAAAA,KAACC,EAAAA,EAAW,CAAAF,SAAC,+BACbJ,EAAAA,EAAAA,MAACO,EAAAA,EAAa,CAACC,UAAQ,EAAAJ,SAAA,EACrBC,EAAAA,EAAAA,KAACI,EAAAA,EAAU,CAACC,QAAQ,YAAYC,GAAI,CAAEC,GAAI,EAAGC,GAAI,GAAIT,SAAC,+BACpDlB,EAAQ4B,YAAc,IAAIC,IAAI,CAACC,EAAGC,KAClCjB,EAAAA,EAAAA,MAACkB,EAAAA,EAAG,CAASC,QAAQ,OAAOC,WAAW,SAAST,GAAI,CAAEE,GAAI,GAAIT,SAAA,EAC5DC,EAAAA,EAAAA,KAACgB,EAAAA,EAAS,CAAClB,WAAS,EAACmB,MAAON,EAAGO,SAAWC,GA3BpCC,EAACR,EAAGS,KAAQ,MAAMC,EAAI,IAAKzC,EAAQ4B,YAAY,IAAMa,EAAIV,GAAGS,EAAGvC,GAAUyC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAI1C,GAAO,IAAE4B,WAAYa,MA2B1DF,CAAQR,EAAGO,EAAEK,OAAOP,UACpEjB,EAAAA,EAAAA,KAACyB,EAAAA,EAAU,CAACC,QAASA,IA3Bdd,IAAM9B,GAAUyC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAI1C,GAAO,IAAE4B,YAAa5B,EAAQ4B,YAAc,IAAIkB,OAAO,CAACC,EAAGC,IAAQA,IAAQjB,MA2B7EkB,CAAQlB,GAAImB,MAAM,QAAOhC,UAACC,EAAAA,EAAAA,KAACgC,EAAAA,EAAU,QAFxDpB,KAKZZ,EAAAA,EAAAA,KAACiC,EAAAA,EAAM,CAACP,QAhCEQ,IAAMpD,GAAUyC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAI1C,GAAO,IAAE4B,WAAY,IAAK5B,EAAQ4B,YAAc,GAAK,OAgC5DV,SAAC,iCAE1BC,EAAAA,EAAAA,KAACI,EAAAA,EAAU,CAACC,QAAQ,YAAYC,GAAI,CAAEC,GAAI,EAAGC,GAAI,GAAIT,SAAC,+BACpDlB,EAAQsD,SAAW,IAAIzB,IAAI,CAAC0B,EAAGxB,KAC/BjB,EAAAA,EAAAA,MAACkB,EAAAA,EAAG,CAASC,QAAQ,OAAOC,WAAW,SAAST,GAAI,CAAEE,GAAI,GAAIT,SAAA,EAC5DC,EAAAA,EAAAA,KAACgB,EAAAA,EAAS,CAAClB,WAAS,EAACmB,MAAOmB,EAAGlB,SAAWC,GAhCtCkB,EAACzB,EAAGS,KAAQ,MAAMC,EAAI,IAAKzC,EAAQsD,SAAS,IAAMb,EAAIV,GAAGS,EAAGvC,GAAUyC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAI1C,GAAO,IAAEsD,QAASb,MAgClDe,CAAMzB,EAAGO,EAAEK,OAAOP,UAClEjB,EAAAA,EAAAA,KAACyB,EAAAA,EAAU,CAACC,QAASA,IAhChBd,IAAM9B,GAAUyC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAI1C,GAAO,IAAEsD,SAAUtD,EAAQsD,SAAW,IAAIR,OAAO,CAACC,EAAGC,IAAQA,IAAQjB,MAgCrE0B,CAAM1B,GAAImB,MAAM,QAAOhC,UAACC,EAAAA,EAAAA,KAACgC,EAAAA,EAAU,QAFtDpB,KAKZZ,EAAAA,EAAAA,KAACiC,EAAAA,EAAM,CAACP,QArCAa,IAAMzD,GAAUyC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAI1C,GAAO,IAAEsD,QAAS,IAAKtD,EAAQsD,SAAW,GAAK,OAqCtDpC,SAAC,iCAExBC,EAAAA,EAAAA,KAACwC,EAAAA,EAAO,CAAClC,GAAI,CAAEmC,GAAI,MACnBzC,EAAAA,EAAAA,KAACiC,EAAAA,EAAM,CAAC5B,QAAQ,YAAYqB,QApCdgB,UAClB,UAAY3D,EAAkB,WAAYQ,EAAS,yCAAa,CAChE,MAAO4B,GAAKwB,QAAQC,MAAMzB,GAAI5B,EAAS,yCAAa,GAkCCQ,SAAC,kDAElDC,EAAAA,EAAAA,KAACwC,EAAAA,EAAO,CAAClC,GAAI,CAAEmC,GAAI,MACnBzC,EAAAA,EAAAA,KAACgB,EAAAA,EAAS,CACR6B,MAAM,kDACN5B,MAAO9B,EACP+B,SAAWC,GAAM/B,EAAW+B,EAAEK,OAAOP,OACrCnB,WAAS,EAACgD,WAAS,EAACC,KAAM,GAAIzC,GAAI,CAAE0C,WAAY,gBAElDhD,EAAAA,EAAAA,KAACa,EAAAA,EAAG,CAACP,GAAI,CAAEC,GAAI,GAAIR,UACjBC,EAAAA,EAAAA,KAACiC,EAAAA,EAAM,CAAC5B,QAAQ,YAAYqB,QA1CfgB,UACnB,IACE,MAAMO,EAASxD,KAAKyD,MAAM/D,SACpBH,EAAiB,UAAWiE,GAClCnE,EAAWmE,GACX1D,EAAS,+CACX,CAAE,MAAO4B,GAAKwB,QAAQC,MAAMzB,GAAI5B,EAAS,8CAAkB,GAoCHQ,SAAC,wCAGvDC,EAAAA,EAAAA,KAACmD,EAAAA,EAAa,CAAApD,UAACC,EAAAA,EAAAA,KAACiC,EAAAA,EAAM,CAACP,QAAS9C,EAAQmB,SAAC,oBACzCC,EAAAA,EAAAA,KAACoD,EAAAA,EAAQ,CAACzE,OAAQW,EAAO+D,iBAAkB,KAAMzE,QAASA,IAAMW,EAAS,IAAK+D,QAAShE,MAG7F,C","sources":["components/admin/SummaryModal.jsx"],"sourcesContent":["// src/components/admin/SummaryModal.jsx\nimport React, { useEffect, useState } from \"react\";\nimport {\n  Dialog, DialogTitle, DialogContent, DialogActions,\n  Button, Box, TextField, IconButton, Typography, Divider, Snackbar,\n} from \"@mui/material\";\nimport DeleteIcon from \"@mui/icons-material/Delete\";\nimport { useUnitEdit } from \"../../pages/admin/UnitEditProvider\";\n\nexport default function SummaryModal({ open, onClose }) {\n  const { summary, setSummary, savePartFromState, savePartWithJSON, buildPartFromState } = useUnitEdit();\n  const [jsonStr, setJsonStr] = useState(\"{}\");\n  const [snack, setSnack] = useState(\"\");\n\n  useEffect(() => {\n    if (open) setJsonStr(JSON.stringify(buildPartFromState(\"summary\"), null, 2));\n  }, [open, buildPartFromState]);\n\n  const addWord = () => setSummary({ ...summary, vocabulary: [...(summary.vocabulary || []), \"\"] });\n  const updWord = (i, v) => { const arr=[...(summary.vocabulary||[])]; arr[i]=v; setSummary({ ...summary, vocabulary: arr }); };\n  const delWord = (i) => setSummary({ ...summary, vocabulary: (summary.vocabulary || []).filter((_, idx) => idx !== i) });\n\n  const addGr = () => setSummary({ ...summary, grammar: [...(summary.grammar || []), \"\"] });\n  const updGr = (i, v) => { const arr=[...(summary.grammar||[])]; arr[i]=v; setSummary({ ...summary, grammar: arr }); };\n  const delGr = (i) => setSummary({ ...summary, grammar: (summary.grammar || []).filter((_, idx) => idx !== i) });\n\n  const saveCurrent = async () => {\n    try { await savePartFromState(\"summary\"); setSnack(\"요약 저장 완료\"); }\n    catch (e) { console.error(e); setSnack(\"요약 저장 실패\"); }\n  };\n  const saveJSONPart = async () => {\n    try {\n      const parsed = JSON.parse(jsonStr);\n      await savePartWithJSON(\"summary\", parsed);\n      setSummary(parsed);\n      setSnack(\"요약(JSON) 저장 완료\");\n    } catch (e) { console.error(e); setSnack(\"JSON 파싱/저장 실패\"); }\n  };\n\n  return (\n    <Dialog open={open} onClose={onClose} maxWidth=\"md\" fullWidth>\n      <DialogTitle>요약 관리</DialogTitle>\n      <DialogContent dividers>\n        <Typography variant=\"subtitle1\" sx={{ mt: 1, mb: 1 }}>핵심 단어</Typography>\n        {(summary.vocabulary || []).map((w, i) => (\n          <Box key={i} display=\"flex\" alignItems=\"center\" sx={{ mb: 1 }}>\n            <TextField fullWidth value={w} onChange={(e) => updWord(i, e.target.value)} />\n            <IconButton onClick={() => delWord(i)} color=\"error\"><DeleteIcon /></IconButton>\n          </Box>\n        ))}\n        <Button onClick={addWord}>+ 단어 추가</Button>\n\n        <Typography variant=\"subtitle1\" sx={{ mt: 3, mb: 1 }}>핵심 문법</Typography>\n        {(summary.grammar || []).map((g, i) => (\n          <Box key={i} display=\"flex\" alignItems=\"center\" sx={{ mb: 1 }}>\n            <TextField fullWidth value={g} onChange={(e) => updGr(i, e.target.value)} />\n            <IconButton onClick={() => delGr(i)} color=\"error\"><DeleteIcon /></IconButton>\n          </Box>\n        ))}\n        <Button onClick={addGr}>+ 문법 추가</Button>\n\n        <Divider sx={{ my: 2 }} />\n        <Button variant=\"contained\" onClick={saveCurrent}>현재 값으로 저장</Button>\n\n        <Divider sx={{ my: 2 }} />\n        <TextField\n          label=\"이 파트 JSON 편집 (summary)\"\n          value={jsonStr}\n          onChange={(e) => setJsonStr(e.target.value)}\n          fullWidth multiline rows={12} sx={{ fontFamily: \"monospace\" }}\n        />\n        <Box sx={{ mt: 1 }}>\n          <Button variant=\"contained\" onClick={saveJSONPart}>JSON으로 저장</Button>\n        </Box>\n      </DialogContent>\n      <DialogActions><Button onClick={onClose}>닫기</Button></DialogActions>\n      <Snackbar open={!!snack} autoHideDuration={2200} onClose={() => setSnack(\"\")} message={snack} />\n    </Dialog>\n  );\n}\n"],"names":["SummaryModal","_ref","open","onClose","summary","setSummary","savePartFromState","savePartWithJSON","buildPartFromState","useUnitEdit","jsonStr","setJsonStr","useState","snack","setSnack","useEffect","JSON","stringify","_jsxs","Dialog","maxWidth","fullWidth","children","_jsx","DialogTitle","DialogContent","dividers","Typography","variant","sx","mt","mb","vocabulary","map","w","i","Box","display","alignItems","TextField","value","onChange","e","updWord","v","arr","_objectSpread","target","IconButton","onClick","filter","_","idx","delWord","color","DeleteIcon","Button","addWord","grammar","g","updGr","delGr","addGr","Divider","my","async","console","error","label","multiline","rows","fontFamily","parsed","parse","DialogActions","Snackbar","autoHideDuration","message"],"sourceRoot":""}