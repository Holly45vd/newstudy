"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[433],{433:(e,t,a)=>{a.r(t),a.d(t,{default:()=>te});var o=a(5043),r=a(3023),n=a(1911),l=a(8776),s=a(3969),i=a(9379),c=a(45),d=a(8387),p=a(1807),u=a(8700),m=a(8128),h=a(1612),A=a(8301),b=a(5895),g=a(7194),x=a(9857),v=a(6061);function y(e){return(0,v.Ay)("MuiFormControlLabel",e)}const f=(0,x.A)("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]);var w=a(7566),k=a(9905),C=a(579);const j=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slots","slotProps","value"],S=(0,m.Ay)("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[{["& .".concat(f.label)]:t.label},t.root,t["labelPlacement".concat((0,g.A)(a.labelPlacement))]]}})((0,h.A)(e=>{let{theme:t}=e;return{display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,["&.".concat(f.disabled)]:{cursor:"default"},["& .".concat(f.label)]:{["&.".concat(f.disabled)]:{color:(t.vars||t).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:e=>{let{labelPlacement:t}=e;return"start"===t||"top"===t||"bottom"===t},style:{marginLeft:16}}]}})),P=(0,m.Ay)("span",{name:"MuiFormControlLabel",slot:"Asterisk"})((0,h.A)(e=>{let{theme:t}=e;return{["&.".concat(f.error)]:{color:(t.vars||t).palette.error.main}}})),F=o.forwardRef(function(e,t){var a;const r=(0,A.b)({props:e,name:"MuiFormControlLabel"}),{checked:n,className:l,componentsProps:s={},control:m,disabled:h,disableTypography:x,inputRef:v,label:f,labelPlacement:F="end",name:B,onChange:R,required:z,slots:N={},slotProps:M={},value:W}=r,T=(0,c.A)(r,j),O=(0,u.A)(),I=null!==(a=null!==h&&void 0!==h?h:m.props.disabled)&&void 0!==a?a:null===O||void 0===O?void 0:O.disabled,q=null!==z&&void 0!==z?z:m.props.required,L={disabled:I,required:q};["checked","name","onChange","value","inputRef"].forEach(e=>{"undefined"===typeof m.props[e]&&"undefined"!==typeof r[e]&&(L[e]=r[e])});const _=(0,w.A)({props:r,muiFormControl:O,states:["error"]}),D=(0,i.A)((0,i.A)({},r),{},{disabled:I,labelPlacement:F,required:q,error:_.error}),J=(e=>{const{classes:t,disabled:a,labelPlacement:o,error:r,required:n}=e,l={root:["root",a&&"disabled","labelPlacement".concat((0,g.A)(o)),r&&"error",n&&"required"],label:["label",a&&"disabled"],asterisk:["asterisk",r&&"error"]};return(0,p.A)(l,y,t)})(D),E={slots:N,slotProps:(0,i.A)((0,i.A)({},s),M)},[H,X]=(0,k.A)("typography",{elementType:b.A,externalForwardedProps:E,ownerState:D});let G=f;return null==G||G.type===b.A||x||(G=(0,C.jsx)(H,(0,i.A)((0,i.A)({component:"span"},X),{},{className:(0,d.A)(J.label,null===X||void 0===X?void 0:X.className),children:G}))),(0,C.jsxs)(S,(0,i.A)((0,i.A)({className:(0,d.A)(J.root,l),ownerState:D,ref:t},T),{},{children:[o.cloneElement(m,L),q?(0,C.jsxs)("div",{children:[G,(0,C.jsxs)(P,{ownerState:D,"aria-hidden":!0,className:J.asterisk,children:["\u2009","*"]})]}):G]}))});var B=a(4412),R=a(2466),z=a(9982),N=a(9699);function M(e){return(0,v.Ay)("PrivateSwitchBase",e)}(0,x.A)("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const W=["autoFocus","checked","checkedIcon","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value","slots","slotProps"],T=(0,m.Ay)(N.A,{name:"MuiSwitchBase"})({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:e=>{let{edge:t,ownerState:a}=e;return"start"===t&&"small"!==a.size},style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:e=>{let{edge:t,ownerState:a}=e;return"end"===t&&"small"!==a.size},style:{marginRight:-12}}]}),O=(0,m.Ay)("input",{name:"MuiSwitchBase",shouldForwardProp:R.A})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),I=o.forwardRef(function(e,t){const{autoFocus:a,checked:o,checkedIcon:r,defaultChecked:n,disabled:l,disableFocusRipple:s=!1,edge:d=!1,icon:m,id:h,inputProps:A,inputRef:b,name:x,onBlur:v,onChange:y,onFocus:f,readOnly:w,required:j=!1,tabIndex:S,type:P,value:F,slots:B={},slotProps:R={}}=e,N=(0,c.A)(e,W),[I,q]=(0,z.A)({controlled:o,default:Boolean(n),name:"SwitchBase",state:"checked"}),L=(0,u.A)();let _=l;L&&"undefined"===typeof _&&(_=L.disabled);const D="checkbox"===P||"radio"===P,J=(0,i.A)((0,i.A)({},e),{},{checked:I,disabled:_,disableFocusRipple:s,edge:d}),E=(e=>{const{classes:t,checked:a,disabled:o,edge:r}=e,n={root:["root",a&&"checked",o&&"disabled",r&&"edge".concat((0,g.A)(r))],input:["input"]};return(0,p.A)(n,M,t)})(J),H={slots:B,slotProps:(0,i.A)({input:A},R)},[X,G]=(0,k.A)("root",{ref:t,elementType:T,className:E.root,shouldForwardComponentProp:!0,externalForwardedProps:(0,i.A)((0,i.A)({},H),{},{component:"span"},N),getSlotProps:e=>(0,i.A)((0,i.A)({},e),{},{onFocus:t=>{var a;null===(a=e.onFocus)||void 0===a||a.call(e,t),(e=>{f&&f(e),L&&L.onFocus&&L.onFocus(e)})(t)},onBlur:t=>{var a;null===(a=e.onBlur)||void 0===a||a.call(e,t),(e=>{v&&v(e),L&&L.onBlur&&L.onBlur(e)})(t)}}),ownerState:J,additionalProps:{centerRipple:!0,focusRipple:!s,disabled:_,role:void 0,tabIndex:null}}),[Q,K]=(0,k.A)("input",{ref:b,elementType:O,className:E.input,externalForwardedProps:H,getSlotProps:e=>(0,i.A)((0,i.A)({},e),{},{onChange:t=>{var a;null===(a=e.onChange)||void 0===a||a.call(e,t),(e=>{if(e.nativeEvent.defaultPrevented)return;const t=e.target.checked;q(t),y&&y(e,t)})(t)}}),ownerState:J,additionalProps:(0,i.A)({autoFocus:a,checked:o,defaultChecked:n,disabled:_,id:D?h:void 0,name:x,readOnly:w,required:j,tabIndex:S,type:P},"checkbox"===P&&void 0===F?{}:{value:F})});return(0,C.jsxs)(X,(0,i.A)((0,i.A)({},G),{},{children:[(0,C.jsx)(Q,(0,i.A)({},K)),I?r:m]}))});function q(e){return(0,v.Ay)("MuiSwitch",e)}const L=(0,x.A)("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),_=["className","color","edge","size","sx","slots","slotProps"],D=(0,m.Ay)("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,a.edge&&t["edge".concat((0,g.A)(a.edge))],t["size".concat((0,g.A)(a.size))]]}})({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,["& .".concat(L.thumb)]:{width:16,height:16},["& .".concat(L.switchBase)]:{padding:4,["&.".concat(L.checked)]:{transform:"translateX(16px)"}}}}]}),J=(0,m.Ay)(I,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.switchBase,{["& .".concat(L.input)]:t.input},"default"!==a.color&&t["color".concat((0,g.A)(a.color))]]}})((0,h.A)(e=>{let{theme:t}=e;return{position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:"".concat("light"===t.palette.mode?t.palette.common.white:t.palette.grey[300]),transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),["&.".concat(L.checked)]:{transform:"translateX(20px)"},["&.".concat(L.disabled)]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:"".concat("light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[600])},["&.".concat(L.checked," + .").concat(L.track)]:{opacity:.5},["&.".concat(L.disabled," + .").concat(L.track)]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:"".concat("light"===t.palette.mode?.12:.2)},["& .".concat(L.input)]:{left:"-100%",width:"300%"}}}),(0,h.A)(e=>{let{theme:t}=e;return{"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(t.palette).filter((0,B.A)(["light"])).map(e=>{let[a]=e;return{props:{color:a},style:{["&.".concat(L.checked)]:{color:(t.vars||t).palette[a].main,"&:hover":{backgroundColor:t.alpha((t.vars||t).palette[a].main,(t.vars||t).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(L.disabled)]:{color:t.vars?t.vars.palette.Switch["".concat(a,"DisabledColor")]:"".concat("light"===t.palette.mode?t.lighten(t.palette[a].main,.62):t.darken(t.palette[a].main,.55))}},["&.".concat(L.checked," + .").concat(L.track)]:{backgroundColor:(t.vars||t).palette[a].main}}}})]}})),E=(0,m.Ay)("span",{name:"MuiSwitch",slot:"Track"})((0,h.A)(e=>{let{theme:t}=e;return{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:"".concat("light"===t.palette.mode?t.palette.common.black:t.palette.common.white),opacity:t.vars?t.vars.opacity.switchTrack:"".concat("light"===t.palette.mode?.38:.3)}})),H=(0,m.Ay)("span",{name:"MuiSwitch",slot:"Thumb"})((0,h.A)(e=>{let{theme:t}=e;return{boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}})),X=o.forwardRef(function(e,t){const a=(0,A.b)({props:e,name:"MuiSwitch"}),{className:o,color:r="primary",edge:n=!1,size:l="medium",sx:s,slots:u={},slotProps:m={}}=a,h=(0,c.A)(a,_),b=(0,i.A)((0,i.A)({},a),{},{color:r,edge:n,size:l}),x=(e=>{const{classes:t,edge:a,size:o,color:r,checked:n,disabled:l}=e,s={root:["root",a&&"edge".concat((0,g.A)(a)),"size".concat((0,g.A)(o))],switchBase:["switchBase","color".concat((0,g.A)(r)),n&&"checked",l&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},c=(0,p.A)(s,q,t);return(0,i.A)((0,i.A)({},t),c)})(b),v={slots:u,slotProps:m},[y,f]=(0,k.A)("root",{className:(0,d.A)(x.root,o),elementType:D,externalForwardedProps:v,ownerState:b,additionalProps:{sx:s}}),[w,j]=(0,k.A)("thumb",{className:x.thumb,elementType:H,externalForwardedProps:v,ownerState:b}),S=(0,C.jsx)(w,(0,i.A)({},j)),[P,F]=(0,k.A)("track",{className:x.track,elementType:E,externalForwardedProps:v,ownerState:b});return(0,C.jsxs)(y,(0,i.A)((0,i.A)({},f),{},{children:[(0,C.jsx)(J,(0,i.A)((0,i.A)({type:"checkbox",icon:S,checkedIcon:S,ref:t,ownerState:b},h),{},{classes:(0,i.A)((0,i.A)({},x),{},{root:x.switchBase}),slots:(0,i.A)((0,i.A)({},u.switchBase&&{root:u.switchBase}),u.input&&{input:u.input}),slotProps:(0,i.A)((0,i.A)({},m.switchBase&&{root:"function"===typeof m.switchBase?m.switchBase(b):m.switchBase}),{},{input:{role:"switch"}},m.input&&{input:"function"===typeof m.input?m.input(b):m.input})})),(0,C.jsx)(P,(0,i.A)({},F))]}))});var G=a(2775),Q=a(3089),K=a(2097),U=a(2579),V=a(4527),Y=a(5877),Z=a(916),$=a(5362),ee=a(9928);function te(e){let{open:t,onClose:a}=e;const{grammar:i,setGrammar:c,savePartFromState:d,savePartWithJSON:p,buildPartFromState:u}=(0,ee.Q)(),[m,h]=(0,o.useState)("[]"),[A,b]=(0,o.useState)("");(0,o.useEffect)(()=>{t&&h(JSON.stringify(u("grammar"),null,2))},[t,u]);const g=(e,t,a)=>{const o=[...i];o[e][t]=a,c(o)},x=(e,t,a,o)=>{const r=[...i];r[e].examples[t][a]=o,c(r)};return(0,C.jsxs)(r.A,{open:t,onClose:a,maxWidth:"lg",fullWidth:!0,children:[(0,C.jsx)(n.A,{children:"\ubb38\ubc95 \uad00\ub9ac"}),(0,C.jsxs)(l.A,{dividers:!0,children:[i.map((e,t)=>{const a=e.__mode||(e.title||e.summary||e.examples?"new":"old");return(0,C.jsxs)(s.A,{sx:{mb:2,border:"1px solid #eee",p:2,borderRadius:1},children:[(0,C.jsx)(F,{control:(0,C.jsx)(X,{checked:"new"===a,onChange:()=>(e=>{const t=[...i];t[e].__mode="new"===t[e].__mode?"old":"new",c(t)})(t)}),label:"new"===a?"\uc2e0\ud615":"\uad6c\ud615"}),"new"===a?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(G.A,{label:"title",value:e.title||"",onChange:e=>g(t,"title",e.target.value),fullWidth:!0,sx:{mb:1}}),(0,C.jsx)(G.A,{label:"summary",value:e.summary||"",onChange:e=>g(t,"summary",e.target.value),fullWidth:!0,sx:{mb:1}}),(0,C.jsx)(G.A,{label:"notes(\uc27c\ud45c)",value:(e.notes||[]).join(","),onChange:e=>((e,t)=>{const a=[...i];a[e].notes=(t||"").split(",").map(e=>e.trim()).filter(Boolean),c(a)})(t,e.target.value),fullWidth:!0,sx:{mb:2}}),(e.examples||[]).map((e,a)=>(0,C.jsxs)(Q.A,{container:!0,spacing:1,sx:{mb:1},children:[(0,C.jsx)(Q.A,{item:!0,xs:3,children:(0,C.jsx)(G.A,{label:"zh",value:e.zh||"",onChange:e=>x(t,a,"zh",e.target.value),fullWidth:!0})}),(0,C.jsx)(Q.A,{item:!0,xs:3,children:(0,C.jsx)(G.A,{label:"py",value:e.py||"",onChange:e=>x(t,a,"py",e.target.value),fullWidth:!0})}),(0,C.jsx)(Q.A,{item:!0,xs:3,children:(0,C.jsx)(G.A,{label:"pronunciation",value:e.pronunciation||"",onChange:e=>x(t,a,"pronunciation",e.target.value),fullWidth:!0})}),(0,C.jsx)(Q.A,{item:!0,xs:3,children:(0,C.jsx)(G.A,{label:"ko",value:e.ko||"",onChange:e=>x(t,a,"ko",e.target.value),fullWidth:!0})})]},a)),(0,C.jsx)(K.A,{size:"small",onClick:()=>(e=>{const t=[...i];t[e].examples=t[e].examples||[],t[e].examples.push({zh:"",py:"",pronunciation:"",ko:""}),c(t)})(t),children:"+ \uc608\ubb38 \ucd94\uac00"})]}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(G.A,{label:"rule",value:e.rule||"",onChange:e=>g(t,"rule",e.target.value),fullWidth:!0,sx:{mb:1}}),(0,C.jsx)(G.A,{label:"description",value:e.description||"",onChange:e=>g(t,"description",e.target.value),fullWidth:!0,sx:{mb:1}}),(0,C.jsx)(Q.A,{container:!0,spacing:1,children:["chinese","pinyin","pronunciation","meaning"].map(a=>{var o;return(0,C.jsx)(Q.A,{item:!0,xs:3,children:(0,C.jsx)(G.A,{label:"example.".concat(a),value:(null===(o=e.example)||void 0===o?void 0:o[a])||"",onChange:e=>((e,t,a)=>{const o=[...i];o[e].example=o[e].example||{},o[e].example[t]=a,c(o)})(t,a,e.target.value),fullWidth:!0})},a)})})]}),(0,C.jsx)(U.A,{onClick:()=>(e=>c(i.filter((t,a)=>a!==e)))(t),color:"error",sx:{mt:1},children:(0,C.jsx)($.A,{})})]},t)}),(0,C.jsx)(K.A,{onClick:()=>c([...i,{rule:"",description:"",example:{chinese:"",pinyin:"",pronunciation:"",meaning:""},title:"",summary:"",notes:[],examples:[],__mode:"new"}]),children:"+ \ubb38\ubc95 \ucd94\uac00"}),(0,C.jsx)(V.A,{sx:{my:2}}),(0,C.jsx)(K.A,{variant:"contained",onClick:async()=>{try{await d("grammar"),b("\ubb38\ubc95 \uc800\uc7a5 \uc644\ub8cc")}catch(e){console.error(e),b("\ubb38\ubc95 \uc800\uc7a5 \uc2e4\ud328")}},children:"\ud604\uc7ac \uac12\uc73c\ub85c \uc800\uc7a5"}),(0,C.jsx)(V.A,{sx:{my:2}}),(0,C.jsx)(G.A,{label:"\uc774 \ud30c\ud2b8 JSON \ud3b8\uc9d1 (grammar)",value:m,onChange:e=>h(e.target.value),fullWidth:!0,multiline:!0,rows:12,sx:{fontFamily:"monospace"}}),(0,C.jsx)(s.A,{sx:{mt:1},children:(0,C.jsx)(K.A,{variant:"contained",onClick:async()=>{try{const e=JSON.parse(m);await p("grammar",e),c(e),b("\ubb38\ubc95(JSON) \uc800\uc7a5 \uc644\ub8cc")}catch(e){console.error(e),b("JSON \ud30c\uc2f1/\uc800\uc7a5 \uc2e4\ud328")}},children:"JSON\uc73c\ub85c \uc800\uc7a5"})})]}),(0,C.jsx)(Y.A,{children:(0,C.jsx)(K.A,{onClick:a,children:"\ub2eb\uae30"})}),(0,C.jsx)(Z.A,{open:!!A,autoHideDuration:2200,onClose:()=>b(""),message:A})]})}}}]);
//# sourceMappingURL=433.950f6dfd.chunk.js.map